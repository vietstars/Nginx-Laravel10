import{u as N}from"./devlop-wtCD2g0f.js";import{j as d}from"./react-uhFzv17e.js";import{u as R}from"./unified-L01U8uS1.js";import{r as H}from"./remark-parse-h8StcBbt.js";import{r as S}from"./remark-rehype-LiuPFFfi.js";import{V as D}from"./vfile-wFV9E6Y1.js";import{v as I}from"./unist-util-visit-jWKMBjA8.js";import{t as U}from"./hast-util-to-jsx-runtime-dOQeWTGX.js";import{u as f}from"./html-url-attributes-Wn3oY2fI.js";const F="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",w=[],h={allowDangerousHtml:!0},M=/^(https?|ircs?|mailto|xmpp)$/i,V=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Q(e){const t=e.allowedElements,m=e.allowElement,a=e.children||"",i=e.className,y=e.components,u=e.disallowedElements,k=e.rehypePlugins||w,b=e.remarkPlugins||w,O=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...h}:h,v=e.skipHtml,x=e.unwrapDisallowed,E=e.urlTransform||q,p=R().use(H).use(b).use(S,O).use(k),c=new D;typeof a=="string"&&(c.value=a);for(const r of V)Object.hasOwn(e,r.from)&&N("Unexpected `"+r.from+"` prop, "+(r.to?"use `"+r.to+"` instead":"remove it")+" (see <"+F+"#"+r.id+"> for more info)");const P=p.parse(c);let n=p.runSync(P,c);return i&&(n={type:"element",tagName:"div",properties:{className:i},children:n.type==="root"?n.children:[n]}),I(n,j),U(n,{Fragment:d.Fragment,components:y,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function j(r,s,l){if(r.type==="raw"&&l&&typeof s=="number")return v?l.children.splice(s,1):l.children[s]={type:"text",value:r.value},s;if(r.type==="element"){let o;for(o in f)if(Object.hasOwn(f,o)&&Object.hasOwn(r.properties,o)){const T=r.properties[o],g=f[o];(g===null||g.includes(r.tagName))&&(r.properties[o]=E(String(T||""),o,r))}}if(r.type==="element"){let o=t?!t.includes(r.tagName):u?u.includes(r.tagName):!1;if(!o&&m&&typeof s=="number"&&(o=!m(r,s,l)),o&&l&&typeof s=="number")return x&&r.children?l.children.splice(s,1,...r.children):l.children.splice(s,1),s}}}function q(e){const t=e.indexOf(":"),m=e.indexOf("?"),a=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||m>-1&&t>m||a>-1&&t>a||M.test(e.slice(0,t))?e:""}export{Q as M};
